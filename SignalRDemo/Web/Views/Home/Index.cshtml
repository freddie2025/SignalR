@{
    ViewBag.Title = "Home Page";
}

<h1>Hello!</h1>
<div id="welcome-messages"></div>

@section scripts {
    <script src="~/Scripts/jquery.signalR-2.4.1.min.js"></script>
    <script src="~/SignalR/js"></script>
    <script>
        (function () {
            $.connection.hub.start()
                .done(function () {
                    console.log("IT WORKED!");
                    $.connection.myHub.server.announce("Connected!");
                })
                .fail(function () { alert("ERROR!!!!"); });

            $.connection.myHub.client.announce = function (message) {

                $("#welcome-messages").append(message + "<br />");
            }
        })()
    </script>
}